# 貢献ガイド (Contributing Guide)

日本株ウォッチドッグプロジェクトへの貢献を検討していただき、ありがとうございます！

## 🤝 貢献の方法

### バグ報告・機能要求
1. **既存のIssueを確認** - 同様の報告がないか確認してください
2. **新しいIssueを作成** - 詳細な情報を含めて報告してください
3. **再現手順を記載** - バグの場合は再現可能な手順を含めてください

### コード貢献
1. **Forkとブランチ作成**
   ```bash
   git fork https://github.com/inata169/miniTest01.git
   git checkout -b feature/your-feature-name
   ```

2. **開発環境セットアップ**
   ```bash
   # 仮想環境作成
   uv venv
   source .venv/bin/activate
   
   # 依存関係インストール
   uv pip install -r requirements.txt
   ```

3. **コードスタイル**
   - **PEP 8**: Python標準のコーディング規約に従ってください
   - **日本語コメント**: 日本語のコメントを推奨します
   - **型ヒント**: 可能な限りtype hintsを使用してください

4. **テスト**
   ```bash
   # アプリケーションテスト
   python src/main.py --gui
   
   # 機能テスト
   python test_final_integration.py
   ```

5. **プルリクエスト**
   - **明確なタイトル**: 何を変更したかが分かるタイトル
   - **詳細な説明**: 変更の理由と内容を説明
   - **関連Issue**: 関連するIssue番号を記載

## 🛠️ 開発ガイドライン

### ファイル構成
```
src/
├── main.py              # エントリーポイント
├── stock_monitor.py     # 株価監視コア
├── portfolio_manager.py # ポートフォリオ管理
├── alert_manager.py     # アラート通知
├── database.py          # データベース管理
├── data_sources.py      # データソース統合
└── gui/                 # GUI関連
    └── main_window.py   # メインウィンドウ
```

### 重要な設計原則
1. **データプライバシー**: 個人の投資データは常にローカル保存
2. **API利用**: 無料APIを優先し、レート制限を遵守
3. **エラーハンドリング**: 投資データの特性を考慮した堅牢な例外処理
4. **国際化**: 日本の投資家向けに日本語UIを基本とする

### セキュリティ考慮事項
- **APIキー**: 絶対にコードにハードコーディングしない
- **個人データ**: CSVファイルや取引履歴をGitで管理しない
- **認証情報**: .envファイルで管理し、.gitignoreに含める

## 📝 ドキュメント

### コード内ドキュメント
```python
def calculate_portfolio_metrics(holdings: List[Holding]) -> Dict[str, float]:
    """
    ポートフォリオの主要指標を計算
    
    Args:
        holdings: 保有銘柄のリスト
        
    Returns:
        主要指標の辞書（総評価額、損益、収益率等）
    """
```

### README更新
新機能追加時は必ずREADME.mdを更新してください：
- 機能説明
- 使用方法
- 設定方法

## 🧪 テスト

### テスト実行
```bash
# GUI機能テスト
python src/main.py --gui

# データベーステスト
python test_database_comprehensive.py

# 配当システムテスト
python test_dividend_system.py

# 統合テスト
python test_final_integration.py
```

### テスト作成
- **実際のAPIを使用**: テストでも実際のデータソースを使用
- **エラーケース**: ネットワーク障害や不正データの処理確認
- **パフォーマンス**: 大量データでの動作確認

## 🔄 リリースプロセス

### バージョニング
- **メジャー**: 大きな機能追加・互換性破壊
- **マイナー**: 新機能追加・改善
- **パッチ**: バグフィックス・小さな改善

### リリース手順
1. **CHANGELOG.md更新**
2. **バージョン番号更新** (`VERSION`ファイル)
3. **テスト実行**
4. **タグ作成とプッシュ**

## ❓ 質問・サポート

- **Issue**: 技術的な質問や提案
- **Discussion**: 一般的な議論や使用方法
- **Email**: セキュリティ関連の問題

## 📋 行動規範

1. **尊重**: 全ての参加者を尊重する
2. **建設的**: 建設的なフィードバックを心がける
3. **協力的**: オープンソースの精神で協力する
4. **プライバシー**: 他者の投資情報を尊重する

## 🎯 優先的な貢献領域

### 高優先度
- **パフォーマンス改善**: 起動時間・応答速度の向上
- **エラーハンドリング**: より堅牢な例外処理
- **ユーザビリティ**: UI/UXの改善

### 中優先度
- **新データソース**: 信頼性の高いAPI統合
- **テクニカル分析**: RSI、MACD等の指標追加
- **通知機能**: 新しい通知チャネルの追加

### 低優先度
- **Web化**: Web UIの検討
- **モバイル対応**: スマートフォン版の検討
- **クラウド統合**: データ同期機能

---

**感謝**: このプロジェクトに貢献いただく全ての方に感謝いたします。一緒により良い投資ツールを作りましょう！